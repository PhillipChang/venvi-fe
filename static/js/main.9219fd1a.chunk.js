(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{103:function(e,t,a){},147:function(e,t,a){e.exports=a.p+"static/media/t.475682ea.obj"},148:function(e,t,a){e.exports=a.p+"static/media/t.bf31b44e.mtl"},149:function(e,t,a){e.exports=a.p+"static/media/diffuse.4e452981.jpeg"},150:function(e,t,a){e.exports=a.p+"static/media/diffuse2.369bf98e.jpeg"},151:function(e,t,a){e.exports=a.p+"static/media/diffuse3.cfbdca81.jpeg"},152:function(e,t,a){e.exports=a.p+"static/media/spec.df9dfff0.jpeg"},160:function(e,t,a){e.exports=a(289)},165:function(e,t,a){},166:function(e,t,a){},183:function(e,t,a){},227:function(e,t,a){},229:function(e,t,a){},230:function(e,t,a){},233:function(e,t,a){},279:function(e,t,a){},282:function(e,t,a){},283:function(e,t,a){},284:function(e,t,a){},286:function(e,t,a){},287:function(e,t,a){},288:function(e,t,a){},289:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),i=a(18),l=a.n(i),c=(a(165),a(14)),r=a(13),s=a(16),m=a(15),u=a(17),d=(a(166),a(29)),g=a.n(d),p=g.a.create({baseURL:"https://cors-anywhere.herokuapp.com/https://venvi-passport2.herokuapp.com/",responseType:"json"}),h=a(59),f=a.n(h),v={getAllListing:function(){return p.get("/api/listings")},postListing:function(e){return p.post("/api/listings",e)},editListing:function(e,t){return p.put("/api/listings/".concat(e),t)},updatePhoto:function(e){return p.put("/api/listings/listingphoto/".concat(e),{msg:"update this listing photo"}).then(function(e){console.log(e.data)})},createListingUrl:function(e){return console.log("hitting api before send to server"),console.log("listing",e),p.post("/api/listings/createurl",e)},deleteListing:function(e){return p.delete("/api/listings/".concat(e),{msg:"delete this listing"}).then(function(e){console.log(e.data)})},getListingByUser:function(e){return p.get("/api/listings/user/".concat(e))},getListingByVehicle:function(e,t,a){return p.get("/api/listings/vehicle/".concat(e,"/").concat(t,"/").concat(a))}},b={getAllVehicles:function(){return p.get("/api/vehicles").then(function(e){return console.log(e.data)})},getVehicleByType:function(e,t,a){return p.get("/api/vehicles/vehicle/".concat(e,"/").concat(t,"/").concat(a))},addVehicle:function(e){return p.post("/api/vehicles/",e)},getVehicles:function(e){return p.get("/api/vehicles/".concat(e)).then(function(e){return console.log(e.data)})},updateVehicle:function(e,t){return p.put("/api/vehicles/".concat(e),t)},deleteVehicle:function(e){return p.delete("/api/vehicles/".concat(e),{msg:"delete this Vehicle"}).then(function(e){console.log(e.data)})}},y={getAllReviews:function(){return p.get("/api/reviews").then(function(e){return console.log(e.data)})},addReview:function(e){return p.post("/api/reviews",e)},getReviewById:function(e){return p.get("/api/reviews/".concat(e))},deleteReview:function(e){return p.delete("/api/reviews/".concat(e),{msg:"delete this review"}).then(function(e){console.log(e.data)})},getReviewByVehicle:function(e){return p.get("/api/reviews/vehicle/".concat(e))}},E={login:function(){console.log("LOGIN ONCLICK");window.open("https://venvi-passport2.herokuapp.com/auth/google","google","width=500,height=500")},logout:function(){return f.a.remove("venvi"),f.a.get("venvi")}},w=function(){p.get("/api/test/all").then(function(e){return console.log(e.data)})},k=function(){p.post("/api/test/new",{msg:"Vehicle has been added"}).then(function(e){return console.log(e.data)})},C=function(e){p.put("/api/test/update/".concat(e),{msg:"update this listing"}).then(function(e){console.log(e.data)})},x=function(e){p.delete("/api/test/delete/".concat(e),{msg:"delete this listing"}).then(function(e){console.log(e.data)})},N=(a(183),a(61)),S=a(12),j=(a(226),N.a.BgElement),O=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return o.a.createElement(N.b,{prefixCls:"banner-user",autoPlay:!0},o.a.createElement(N.a,{prefixCls:"banner-user-elem",key:"2"},o.a.createElement(j,{key:"bg",className:"bg",style:{backgroundImage:"url('https://free4kwallpapers.com/uploads/originals/2015/07/14/lamborghini-aventador-wallpaper-hd.jpg')",backgroundSize:"cover",backgroundPosition:"center"}}),o.a.createElement(S.b,{className:"banner-user-title",animation:{x:-30,opacity:0,type:"from"}},"VENVI"),o.a.createElement(S.b,{className:"banner-user-text",animation:{x:-30,opacity:0,type:"from",delay:100}},"Reviews for Consumers by Consumers")),o.a.createElement(N.a,{prefixCls:"banner-user-elem",key:"1"},o.a.createElement(j,{key:"bg",className:"bg",style:{backgroundImage:"url('https://images.unsplash.com/photo-1508500444513-ae7b32a20b84?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=2000&q=80')",backgroundSize:"cover",backgroundPosition:"center"}}),o.a.createElement(S.b,{className:"banner-user-title",animation:{y:30,opacity:0,type:"from"}},"VENVI"),o.a.createElement(S.b,{className:"banner-user-text",animation:{y:30,opacity:0,type:"from",delay:100}},"Reviews for Consumers by Consumers")),o.a.createElement(N.a,{prefixCls:"banner-user-elem",key:"0"},o.a.createElement(j,{key:"bg",className:"bg",style:{backgroundImage:"url('https://images.unsplash.com/photo-1517994112540-009c47ea476b?ixlib=rb-1.2.1&auto=format&fit=crop&w=1981&q=80')",backgroundSize:"cover",backgroundPosition:"center"}}),o.a.createElement(S.b,{className:"banner-user-title",animation:{x:-30,opacity:0,type:"from"}},"VENVI"),o.a.createElement(S.b,{className:"banner-user-text",animation:{x:-30,opacity:0,type:"from",delay:100}},"Reviews for Consumers by Consumers")))}}]),t}(o.a.Component),L=a(23),R=a(316),I=a(153),T=a(87),M=(a(227),[{url:"https://images01.oe24.at/Aventador_SVJ-roadster2.jpg/bigStory/374.840.502",title:"Lambo",width:"40%"},{url:"https://www.motorwerks.com/inventoryphotos/4857/wp1ab2ayxkda63292/ip/3.jpg?height=400",title:"Porsche",width:"20%"},{url:"https://fm.cnbc.com/applications/cnbc.com/resources/img/editorial/2019/03/21/105807049-1553189463674bugatti.530x298.jpg?v=1553189697",title:"Bugatti",width:"40%"}]),B=[{url:"https://images01.oe24.at/Aventador_SVJ-roadster2.jpg/bigStory/374.840.502",title:"Lambo",width:"36%"},{url:"https://www.motorwerks.com/inventoryphotos/4857/wp1ab2ayxkda63292/ip/3.jpg?height=400",title:"Porsche",width:"40%"},{url:"https://fm.cnbc.com/applications/cnbc.com/resources/img/editorial/2019/03/21/105807049-1553189463674bugatti.530x298.jpg?v=1553189697",title:"Bugatti",width:"24%"}],V=[{url:"https://images01.oe24.at/Aventador_SVJ-roadster2.jpg/bigStory/374.840.502",title:"Lambo",width:"40%"},{url:"https://www.motorwerks.com/inventoryphotos/4857/wp1ab2ayxkda63292/ip/3.jpg?height=400",title:"Porsche",width:"20%"},{url:"https://fm.cnbc.com/applications/cnbc.com/resources/img/editorial/2019/03/21/105807049-1553189463674bugatti.530x298.jpg?v=1553189697",title:"Bugatti",width:"40%"}],A=Object(R.a)(function(e){var t;return{root:{display:"flex",flexWrap:"wrap",minWidth:300,width:"100%"},image:(t={position:"relative",height:200},Object(L.a)(t,e.breakpoints.down("xs"),{width:"100% !important",height:100}),Object(L.a)(t,"&:hover, &$focusVisible",{zIndex:1,"& $imageBackdrop":{opacity:.15},"& $imageMarked":{opacity:0},"& $imageTitle":{border:"4px solid currentColor"}}),t),focusVisible:{},imageButton:{position:"absolute",left:0,right:0,top:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",color:e.palette.common.white},imageSrc:{position:"absolute",left:0,right:0,top:0,bottom:0,backgroundSize:"cover",backgroundPosition:"center 40%"},imageBackdrop:{position:"absolute",left:0,right:0,top:0,bottom:0,backgroundColor:e.palette.common.black,opacity:.4,transition:e.transitions.create("opacity")},imageTitle:{position:"relative",padding:"".concat(e.spacing(2),"px ").concat(e.spacing(4),"px ").concat(e.spacing(1)+6,"px")},imageMarked:{height:3,width:18,backgroundColor:e.palette.common.white,position:"absolute",bottom:-2,left:"calc(50% - 9px)",transition:e.transitions.create("opacity")}}});var P=function(){var e=A();return o.a.createElement("div",{className:e.root,id:"popularSection"},M.map(function(t){return o.a.createElement(I.a,{focusRipple:!0,key:t.title,className:e.image,focusVisibleClassName:e.focusVisible,style:{width:t.width}},o.a.createElement("span",{className:e.imageSrc,style:{backgroundImage:"url(".concat(t.url,")")}}),o.a.createElement("span",{className:e.imageBackdrop}),o.a.createElement("span",{className:e.imageButton},o.a.createElement(T.a,{component:"span",variant:"subtitle1",color:"inherit",className:e.imageTitle},t.title,o.a.createElement("span",{className:e.imageMarked}))))}),B.map(function(t){return o.a.createElement(I.a,{focusRipple:!0,key:t.title,className:e.image,focusVisibleClassName:e.focusVisible,style:{width:t.width}},o.a.createElement("span",{className:e.imageSrc,style:{backgroundImage:"url(".concat(t.url,")")}}),o.a.createElement("span",{className:e.imageBackdrop}),o.a.createElement("span",{className:e.imageButton},o.a.createElement(T.a,{component:"span",variant:"subtitle1",color:"inherit",className:e.imageTitle},t.title,o.a.createElement("span",{className:e.imageMarked}))))}),V.map(function(t){return o.a.createElement(I.a,{focusRipple:!0,key:t.title,className:e.image,focusVisibleClassName:e.focusVisible,style:{width:t.width}},o.a.createElement("span",{className:e.imageSrc,style:{backgroundImage:"url(".concat(t.url,")")}}),o.a.createElement("span",{className:e.imageBackdrop}),o.a.createElement("span",{className:e.imageButton},o.a.createElement(T.a,{component:"span",variant:"subtitle1",color:"inherit",className:e.imageTitle},t.title,o.a.createElement("span",{className:e.imageMarked}))))}))};a(229);var D=function(e){var t=e.fluid,a=e.children;return o.a.createElement("div",{id:"container",className:"container".concat(t?"-fluid":"")},a)},U=a(327);a(230);var F=function(){return o.a.createElement("div",{className:"uk-container-fluid uk-column-1-3 uk-column-divider content"},o.a.createElement("div",{className:"section"},o.a.createElement("div",null,o.a.createElement(U.a,{type:"car",className:"icon uk-align-center"})),o.a.createElement("h4",null,"Reviews")),o.a.createElement("div",null),o.a.createElement("div",{className:"section"},o.a.createElement("div",null,o.a.createElement(U.a,{type:"key",className:"icon uk-align-center"})),o.a.createElement("h4",null,"Find a Car")),o.a.createElement("div",{className:"section"},o.a.createElement("div",null,o.a.createElement(U.a,{type:"dollar",className:"icon uk-align-center"})),o.a.createElement("h4",null,"Sell Your Car")))};a(233);var z=function(){return o.a.createElement("div",{className:"uk-container-fluid uk-column-1-1 uk-column-divider",id:"footerContent"},o.a.createElement("div",{className:"footerSection"},o.a.createElement("div",null,o.a.createElement("p",null,"\xa9 2019 Copyright VENVI. All Rights Reserved."))))},W=a(37),G=(a(103),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).findCookie=function(){var e=f.a.get("venvi");return e=e?a.QueryStringToJSON(e):void 0},a.setCookie=function(e){f.a.set("venvi",e),a.newReactState()},a.newReactState=function(){var e=a.findCookie();console.log("THE FINDKEY VAR",e),a.props.changeUserState(e)},a.QueryStringToJSON=function(e){var t=e.slice(1).split("&"),a={};return t.forEach(function(e){e=e.split("="),a[e[0]]=decodeURIComponent(e[1]||"")}),JSON.parse(JSON.stringify(a))},a}return Object(u.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.props.location.search?this.setCookie(this.props.location.search):this.newReactState()}},{key:"render",value:function(){return console.log("MATCH QUERY",this.props.match.params.userid),console.log("LOCATION QUERY",this.props.location.query),console.log("LOCATION SEARCH",this.props.location.search),o.a.createElement("div",null,this.props.location.search?o.a.createElement(W.a,{to:"/logged"}):o.a.createElement(o.a.Fragment,null,o.a.createElement(O,null),o.a.createElement(D,null,o.a.createElement(F,null),o.a.createElement("h3",null," Top Consumer Picks "),o.a.createElement("span",{id:"line"}," "),o.a.createElement(P,null)),o.a.createElement(z,null)))}}]),t}(o.a.Component)),_=a(6),J=(a(279),function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={make:"",model:"",year:"",imgURL:"",vehicleId:"",reviews:[]},a.searchAction=function(){console.log("Submit");var e=!1,t=!1;g.a.get("https://vpic.nhtsa.dot.gov/api/vehicles/GetMakesForVehicleType/car?format=json").then(function(n){var o=n.data.Results,i=null;""!=a.state.make&&(i=a.state.make.toLowerCase().trim()),console.log(i),o.forEach(function(t){t.MakeName.toLowerCase().indexOf(i)>-1&&(console.log("Make match!"),e=!0)}),e?g.a.get("https://vpic.nhtsa.dot.gov/api/vehicles/getmodelsformakeyear/make/".concat(i,"/vehicleType/car?format=json")).then(function(n){var o=n.data.Results;g.a.get("https://vpic.nhtsa.dot.gov/api/vehicles/getmodelsformakeyear/make/".concat(i,"/vehicleType/truck?format=json")).then(function(n){var l=n.data.Results,c=o.concat(l);console.log(c);var r=a.state.model.toLowerCase().trim();console.log(r),c.forEach(function(e){e.Model_Name.toLowerCase().indexOf(r)>-1&&(console.log("Model match!"),t=!0)});var s="";console.log(a.state.year.trim()),Number.parseInt(a.state.year.trim())&&""===(s=a.state.year.trim())&&(s="2019"),""===s&&(s="2019"),console.log(s),e&&t?(console.log("All input OK."),console.log("https://www.googleapis.com/customsearch/v1?q=".concat(s," ").concat(i,"+").concat(r,"&cx=014855097092208085078%3A6cwyf6e5-oc&searchType=image&fileType=png&key=AIzaSyBEg43tCIEFbmsUD3hVAMZtNOFGcj7M0Cs")),g.a.get("https://www.googleapis.com/customsearch/v1?q=".concat(s," ").concat(i,"+").concat(r,"&cx=014855097092208085078%3A6cwyf6e5-oc&searchType=image&fileType=png&key=AIzaSyBEg43tCIEFbmsUD3hVAMZtNOFGcj7M0Cs")).then(function(e){var t=e.data.items[0].link;a.state.imgURL=t,a.getVehicleByType(s)})):console.log("Error.")})}):console.log("Make not match.")})},a.handleChange=function(e){var t=e.target,n=t.name,o=t.value;a.setState(Object(L.a)({},n,o))},a.getVehicleByType=function(e){var t=a.state.make.toLowerCase().trim(),n=a.state.model.toLowerCase().trim();b.getVehicleByType(t,n,e).then(function(t){console.log(" data",t),console.log(t.data),t.data?(a.setState({vehicleId:t.data.id}),console.log(a.state.vehicleId),console.log("state",a.state),a.getReviewByVehicleId()):a.addVehicle(e)})},a.addVehicle=function(e){var t={make:a.state.make.toLowerCase().trim(),model:a.state.model.toLowerCase().trim(),year:e,image:a.state.imgURL};console.log("vehicle before send",t),b.addVehicle(t).then(function(e){console.log("saved vehicle"),console.log(e),console.log("saved vehicle id"),console.log(e.data.id);var t=e.data.id,n=e.data.year;a.setState({vehicleId:t}),a.setState({year:n}),console.log(a.state.vehicleId),console.log("state",a.state),a.props.infoGet(a.state),a.getReviewByVehicleId()})},a.getReviewByVehicleId=function(){console.log("inside review call");var e=a.state.vehicleId;console.log("vehicle id",e),y.getReviewByVehicle(e).then(function(e){console.log("all reviews databack"),console.log(e.data),a.setState({reviews:e.data}),console.log("reviews in state",a.state.reviews),a.getAverageRating(e.data),a.props.infoGet(a.state)})},a.getAverageRating=function(e){var t,n=0;if(e){for(var o=0;o<e.length;o++)n+=e[o].ratingNumber;t=n/e.length}else t=0;console.log(t),a.updateVehicleRating(t)},a.updateVehicleRating=function(e){var t=a.state.vehicleId,n={rating:e};console.log("vehicle id before update rating",t),b.updateVehicle(t,n).then(function(e){console.log(e.data)})},a}return Object(u.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.searchAction()}},o.a.createElement(_.Row,{style:{marginBottom:"0px"}},o.a.createElement(_.Col,{className:"input-field"},o.a.createElement(_.TextInput,{name:"make",value:this.state.make,onChange:this.handleChange,type:"text",label:"Make"})),o.a.createElement(_.Col,{className:"input-field"},o.a.createElement(_.TextInput,{name:"model",value:this.state.model,onChange:this.handleChange,type:"text",label:"Model"})),o.a.createElement(_.Col,{className:"input-field"},o.a.createElement(_.TextInput,{name:"year",value:this.state.year,onChange:this.handleChange,type:"text",label:"Year"}))),o.a.createElement(_.Row,null,o.a.createElement(_.Button,{type:"submit",className:"#37474f blue-grey darken-3",waves:"light",style:{marginLeft:"22px"}},"Search")))}}]),t}(n.Component)),K=a(143),Y=a.n(K),$=(a(282),function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={rating:0,textreview:"",reviews:[]},a.changeRating=function(e){a.setState({rating:e})},a.handleChange=function(e){var t=e.target,n=t.name,o=t.value;a.setState(Object(L.a)({},n,o))},a.addReview=function(){var e={VehicleId:a.props.id,ratingNumber:a.state.rating,review:a.state.textreview};console.log("newreview before send",e),y.addReview(e).then(function(e){console.log("saved review"),console.log(e),console.log("saved review id"),console.log(e.data.id),a.setState({rating:0,textreview:""}),a.getReviewByVehicleId()})},a.getReviewByVehicleId=function(){console.log("inside review call");var e=a.props.id;console.log("vehicle id",e),y.getReviewByVehicle(e).then(function(e){console.log("all reviews databack"),console.log(e.data),a.setState({reviews:e.data}),console.log("reviews in state",a.state.reviews),a.getAverageRating(e.data)})},a.getAverageRating=function(e){var t,n=0;if(e){for(var o=0;o<e.length;o++)n+=e[o].ratingNumber;t=n/e.length}else t=0;console.log(t),a.updateVehicleRating(t)},a.updateVehicleRating=function(e){var t=a.props.id,n={rating:e};console.log("vehicle id before update rating",t),b.updateVehicle(t,n).then(function(e){console.log(e.data)})},a}return Object(u.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.getReviewByVehicleId()}},{key:"render",value:function(){return o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"card-image"},o.a.createElement("img",{src:this.props.image}),o.a.createElement("span",{className:"card-title"},this.props.year," ",this.props.make," ",this.props.model)),o.a.createElement("div",{className:"card-content"},this.state.reviews.map(function(e,t){return o.a.createElement("div",{id:t},o.a.createElement("div",null,o.a.createElement("b",null,"Rating: ",e.ratingNumber,"/5")),o.a.createElement("div",null,e.review),o.a.createElement("br",null))})),o.a.createElement("div",{className:"card-action"},o.a.createElement(_.Modal,{header:"Add Review",fixedFooter:!0,trigger:o.a.createElement(_.Button,{waves:"light",className:"reviewButton",onClick:this.getVehicleByType},"Add Review"),actions:o.a.createElement(_.Button,{modal:"close",className:"reviewButton",onClick:this.addReview},"Submit Review")},o.a.createElement("div",null,o.a.createElement("b",null,"Rating: \xa0 \xa0 \xa0 \xa0"),o.a.createElement(Y.a,{rating:this.state.rating,starRatedColor:"#ed9d1c",changeRating:this.changeRating,numberOfStars:5,name:"rating",starDimension:"20px"})),o.a.createElement(_.Textarea,{placeholder:"Type review here",value:this.state.textreview,name:"textreview",onChange:this.handleChange}))))}}]),t}(n.Component)),q=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).infoCallback=function(e){console.log("Callback:"),console.log("".concat(e.year," + ").concat(e.make," + ").concat(e.model)),console.log(e.reviews),a.setState({make:e.make,model:e.model,year:e.year,imgURL:e.imgURL,vehicleId:e.vehicleId,showReviewCard:!0}),console.log(a.state.reviews)},a.state={make:null,model:null,year:null,imgURL:null,vehicleId:null,showReviewCard:!1,reviews:[]},a}return Object(u.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(D,null,o.a.createElement("h2",null," Top Consumer Picks "),o.a.createElement("span",{id:"line"}," "),o.a.createElement(J,{infoGet:this.infoCallback,relay:this.relayCall}),this.state.showReviewCard?o.a.createElement($,{image:this.state.imgURL,make:this.state.make,model:this.state.model,year:this.state.year,id:this.state.vehicleId}):null))}}]),t}(o.a.Component),Z=a(318),H=a(317),Q=(a(283),Object(R.a)({bigAvatar:{margin:10,width:100,height:100}}));function X(e){var t=Q();return o.a.createElement("div",null,o.a.createElement(H.a,{container:!0,justify:"center",alignItems:"center"},o.a.createElement(Z.a,{alt:"Remy Sharp",src:"https://previews.123rf.com/images/chutimakuanamon/chutimakuanamon1806/chutimakuanamon180600142/104749457-blossom-sitting-reading-the-powerpuff-girls-illustration.jpg",className:t.bigAvatar})),o.a.createElement("h1",null," ",e.userid," "),o.a.createElement("span",{id:"line"}," "))}var ee=a(67),te=a(5),ae=a(329),ne=a(320),oe=a(321),ie=a(322),le=a(323),ce=a(328),re=a(324),se=a(319),me=a(144),ue=a.n(me),de=a(109),ge=a.n(de),pe=a(145),he=a.n(pe),fe=a(146),ve=a.n(fe),be=(a(284),Object(R.a)(function(e){return{card:{maxWidth:345,"&:hover":{border:"1px",boxShadow:"5px 10px 8px 10px lightgrey"}},media:{width:325,paddingTop:"47%",marginLeft:"5%",marginTop:"7%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:se.a[700]}}}));function ye(e){var t=e.image,a=e.make,n=e.model,i=e.price,l=e.year,c="".concat(l," ").concat(a," ").concat(n);console.log("name",c);var r=be(),s=o.a.useState(!1),m=Object(ee.a)(s,2),u=m[0],d=m[1];return o.a.createElement(ae.a,{className:r.card,id:"list-card"},o.a.createElement(ne.a,{avatar:o.a.createElement(Z.a,{"aria-label":"recipe",className:r.avatar},"SLC"),title:c}),o.a.createElement(oe.a,{className:r.media,image:t}),o.a.createElement(ie.a,null,o.a.createElement(T.a,{variant:"body2",color:"textSecondary",component:"p"})),o.a.createElement(le.a,{disableSpacing:!0},o.a.createElement(re.a,{id:"favorite","aria-label":"add to favorites"},o.a.createElement(ue.a,{id:"fav"})),o.a.createElement(re.a,{className:Object(te.a)(r.expand,Object(L.a)({},r.expandOpen,u)),onClick:function(){d(!u)},"aria-expanded":u,"aria-label":"show more"},o.a.createElement(ge.a,null))),o.a.createElement(ce.a,{in:u,timeout:"auto",unmountOnExit:!0},o.a.createElement(ie.a,null,o.a.createElement(T.a,{paragraph:!0},"Price: ",i),o.a.createElement(T.a,{paragraph:!0}),o.a.createElement(T.a,{paragraph:!0}),o.a.createElement(T.a,{paragraph:!0}),o.a.createElement(T.a,null))))}function Ee(e){var t=this,a=e.image,n=e.make,i=e.model,l=e.price,c=e.year,r="".concat(c," ").concat(n," ").concat(i),s=be(),m=o.a.useState(!1),u=Object(ee.a)(m,2),d=u[0],g=u[1];return o.a.createElement(ae.a,{className:s.card,id:"list-card"},o.a.createElement(ne.a,{avatar:o.a.createElement(Z.a,{"aria-label":"recipe",className:s.avatar},"SLC"),action:o.a.createElement(re.a,{"aria-label":"delete"},o.a.createElement(he.a,{onClick:function(){return t.props.handleDelete(t.props.id)}})),title:r}),o.a.createElement(oe.a,{className:s.media,image:a}),o.a.createElement(ie.a,null,o.a.createElement(T.a,{variant:"body2",color:"textSecondary",component:"p"})),o.a.createElement(le.a,{disableSpacing:!0},o.a.createElement(re.a,{id:"edit","aria-label":"edit price"},o.a.createElement(_.Modal,{header:"Change Price",fixedFooter:!0,trigger:o.a.createElement(ve.a,null),actions:o.a.createElement(_.Button,{modal:"close",className:"reviewButton",onClick:function(){return t.props.handleEdit(t.props.id)}},"Submit")},o.a.createElement(_.Col,{className:"input-field"},o.a.createElement(_.TextInput,{name:"price",type:"number",label:"Price"})))),o.a.createElement(re.a,{className:Object(te.a)(s.expand,Object(L.a)({},s.expandOpen,d)),onClick:function(){g(!d)},"aria-expanded":d,"aria-label":"show more"},o.a.createElement(ge.a,null))),o.a.createElement(ce.a,{in:d,timeout:"auto",unmountOnExit:!0},o.a.createElement(ie.a,null,o.a.createElement(T.a,{paragraph:!0},"Price:$",l),o.a.createElement(T.a,{paragraph:!0}),o.a.createElement(T.a,{paragraph:!0}),o.a.createElement(T.a,{paragraph:!0}),o.a.createElement(T.a,null))))}var we=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).userListing=function(){v.getListingByUser(a.state.userId).then(function(e){console.log("all listings databack"),console.log(e.data),a.setState({userList:e.data}),console.log(a.state.userList)})},a.handleDelete=function(e){v.deleteListing(e).then(function(e){console.log("deleted file"),a.userListing()})},a.handleEdit=function(e,t){console.log("id",e),console.log("we got here"),v.editListing(e,t).then(function(e){console.log("edited listing",e.data)})},a.state={userList:[],userId:3},a}return Object(u.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.userListing()}},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement(D,null,o.a.createElement(X,{userid:this.state.userId})),o.a.createElement("div",{id:"user-list"},this.state.userList.map(function(t){return o.a.createElement(Ee,{key:t.id,id:t.id,image:t.image,make:t.make,model:t.model,price:t.price,year:t.year,vin:t.vin,handleDelete:e.handleDelete,handleEdit:e.handleEdit})})))}}]),t}(o.a.Component),ke=a(85),Ce=(a(286),[{url:"https://images01.oe24.at/Aventador_SVJ-roadster2.jpg/bigStory/374.840.502",title:"Buy a Car",width:"40%"}]),xe=[{url:"https://fm.cnbc.com/applications/cnbc.com/resources/img/editorial/2019/03/21/105807049-1553189463674bugatti.530x298.jpg?v=1553189697",title:"Sell a Car",width:"40%"}],Ne=Object(R.a)(function(e){var t;return{root:{display:"flex",flexWrap:"wrap",minWidth:300,width:"100%"},image:(t={position:"relative",height:200},Object(L.a)(t,e.breakpoints.down("xs"),{width:"100% !important",height:100}),Object(L.a)(t,"&:hover, &$focusVisible",{zIndex:1,"& $imageBackdrop":{opacity:.15},"& $imageMarked":{opacity:0},"& $imageTitle":{border:"4px solid currentColor"}}),t),focusVisible:{},imageButton:{position:"absolute",left:0,right:0,top:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",color:e.palette.common.white},imageSrc:{position:"absolute",left:0,right:0,top:0,bottom:0,backgroundSize:"cover",backgroundPosition:"center 40%"},imageBackdrop:{position:"absolute",left:0,right:0,top:0,bottom:0,backgroundColor:e.palette.common.black,opacity:.4,transition:e.transitions.create("opacity")},imageTitle:{position:"relative",padding:"".concat(e.spacing(2),"px ").concat(e.spacing(4),"px ").concat(e.spacing(1)+6,"px")},imageMarked:{height:3,width:18,backgroundColor:e.palette.common.white,position:"absolute",bottom:-2,left:"calc(50% - 9px)",transition:e.transitions.create("opacity")}}});function Se(e){var t=Ne();return o.a.createElement("div",{className:t.root,onClick:e.handleSearch,id:"popularSectionBuy"},Ce.map(function(e){return o.a.createElement(I.a,{focusRipple:!0,key:e.title,className:t.image,focusVisibleClassName:t.focusVisible,style:{width:e.width}},o.a.createElement("span",{className:t.imageSrc,style:{backgroundImage:"url(".concat(e.url,")")}}),o.a.createElement("span",{className:t.imageBackdrop}),o.a.createElement("span",{className:t.imageButton},o.a.createElement(T.a,{component:"span",variant:"subtitle1",color:"inherit",className:t.imageTitle},e.title,o.a.createElement("span",{className:t.imageMarked}))))}))}function je(e){var t=Ne();return o.a.createElement("div",{className:t.root,onClick:e.showForm,id:"popularSectionSell"},xe.map(function(e){return o.a.createElement(I.a,{focusRipple:!0,key:e.title,className:t.image,focusVisibleClassName:t.focusVisible,style:{width:e.width}},o.a.createElement("span",{className:t.imageSrc,style:{backgroundImage:"url(".concat(e.url,")")}}),o.a.createElement("span",{className:t.imageBackdrop}),o.a.createElement("span",{className:t.imageButton},o.a.createElement(T.a,{component:"span",variant:"subtitle1",color:"inherit",className:t.imageTitle},e.title,o.a.createElement("span",{className:t.imageMarked}))))}))}a(287);var Oe=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={make:"",model:"",year:"",imgURL:""},a.searchAction=function(){console.log("Submit");var e=!1,t=!1;g.a.get("https://vpic.nhtsa.dot.gov/api/vehicles/GetMakesForVehicleType/car?format=json").then(function(n){var o=n.data.Results,i=null;""!=a.state.make&&(i=a.state.make.toLowerCase()),console.log(i),o.forEach(function(t){t.MakeName.toLowerCase().indexOf(i)>-1&&(console.log("Make match!"),e=!0)}),e?g.a.get("https://vpic.nhtsa.dot.gov/api/vehicles/getmodelsformakeyear/make/".concat(a.state.make,"/vehicleType/car?format=json")).then(function(n){var o=n.data.Results;g.a.get("https://vpic.nhtsa.dot.gov/api/vehicles/getmodelsformakeyear/make/".concat(a.state.make,"/vehicleType/truck?format=json")).then(function(n){var l=n.data.Results,c=o.concat(l);console.log(c);var r=a.state.model.toLowerCase();console.log(r),c.forEach(function(e){e.Model_Name.toLowerCase().indexOf(r)>-1&&(console.log("Model match!"),t=!0)});var s="";Number.parseInt(a.state.year)&&(s=Number.parseInt(a.state.year)),e&&t?(console.log("All input OK."),console.log("https://www.googleapis.com/customsearch/v1?q=".concat(s," ").concat(i,"+").concat(r,"&cx=014855097092208085078%3A6cwyf6e5-oc&searchType=image&fileType=png&key=AIzaSyBEg43tCIEFbmsUD3hVAMZtNOFGcj7M0Cs")),g.a.get("https://www.googleapis.com/customsearch/v1?q=".concat(s," ").concat(i,"+").concat(r,"&cx=014855097092208085078%3A6cwyf6e5-oc&searchType=image&fileType=png&key=AIzaSyBEg43tCIEFbmsUD3hVAMZtNOFGcj7M0Cs")).then(function(e){var t=e.data.items[0].link;a.state.imgURL=t,a.props.infoBuy(a.state)})):console.log("Error.")})}):console.log("Make not match.")})},a.handleChange=function(e){var t=e.target,n=t.name,o=t.value;a.setState(Object(L.a)({},n,o))},a}return Object(u.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.searchAction()}},o.a.createElement(_.Row,{style:{marginBottom:"0px"}},o.a.createElement(_.Col,{className:"input-field"},o.a.createElement(_.TextInput,{name:"make",value:this.state.make,onChange:this.handleChange,type:"text",label:"Make"})),o.a.createElement(_.Col,{className:"input-field"},o.a.createElement(_.TextInput,{name:"model",value:this.state.model,onChange:this.handleChange,type:"text",label:"Model"})),o.a.createElement(_.Col,{className:"input-field"},o.a.createElement(_.TextInput,{name:"year",value:this.state.year,onChange:this.handleChange,type:"text",label:"Year"}))),o.a.createElement(_.Row,null,o.a.createElement(_.Button,{type:"submit",className:"#37474f blue-grey darken-3",waves:"light",style:{marginLeft:"22px"}},"Search")))}}]),t}(n.Component),Le=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={vin:"",price:"",make:"",model:"",year:"",file:"",UserId:1,listings:[],currentListingId:""},a.saveListing=function(){var e=a.state.price,t=a.state.make,n=a.state.model,o=a.state.year,i=a.state.UserId,l=a.state.vin,c=(a.state.file,{price:e,make:t,model:n,year:o,UserId:i,vin:l});console.log(c),v.postListing(c).then(function(e){console.log("saved listing"),console.log(e),console.log("saved listing id"),console.log(e.data.id);var t=e.data.id;a.setState({currentListingId:t})}),setTimeout(a.createListingUrl,3e3);var r=a.state.UserId;setTimeout(a.getListingByUser(r),5e3)},a.getListingByUser=function(e){v.getListingByUser(e).then(function(e){console.log("Byuser data",e)})},a.createListingUrl=function(){var e=new FormData,t=a.state.vin,n=a.state.file,o=a.state.currentListingId;console.log(t),console.log(n),console.log(o),e.append("name",t),e.append("file",n),e.append("currentListingId",o),v.createListingUrl(e)},a.handleChange=function(e){var t=e.target,n=t.name,o=t.value;a.setState(Object(L.a)({},n,o))},a.handleImageChange=function(e){a.setState({file:e.target.files[0]});var t=a.state.file;console.log(t)},a.validate=function(){var e=a.state.vin,t=a.state.file,n=a.state.price;console.log("price",n),e&&t||(console.log("it works here"),alert("Please fill out required fields"))},a}return Object(u.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){}},{key:"searchAction",value:function(){var e=this;console.log("Submit"),g.a.get("https://vpic.nhtsa.dot.gov/api/vehicles/decodevinvalues/".concat(this.state.vin,"*BA?format=json")).then(function(t){var a=t.data.Results[0];a.Model?(console.log("response data",a),console.log("all response data",t.data.Results),console.log("year",a.ModelYear),console.log("model",a.Model),console.log("make",a.Make),e.setState({make:a.Make,model:a.Model,year:a.ModelYear})):alert("You have entered an invalid VIN")}),setTimeout(this.saveListing,3e3)}},{key:"render",value:function(){var e=this;return o.a.createElement(_.Row,{className:"searchInput"},o.a.createElement(_.Col,null,o.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.searchAction()}},o.a.createElement(_.Row,{style:{marginBottom:"0px"}},o.a.createElement(_.Col,{className:"input-field"},o.a.createElement(_.TextInput,{name:"vin",value:this.state.vin,onChange:this.handleChange,type:"text",label:"Vin"})),o.a.createElement(_.Col,{className:"input-field"},o.a.createElement(_.TextInput,{name:"price",value:this.state.price,onChange:this.handleChange,type:"number",label:"Price"})),o.a.createElement(_.Col,{className:"input-field"},o.a.createElement(_.TextInput,{name:"make",value:this.state.make,onChange:this.handleChange,type:"text",label:"Make",disabled:!0})),o.a.createElement(_.Col,{className:"input-field"},o.a.createElement(_.TextInput,{name:"model",value:this.state.model,onChange:this.handleChange,type:"text",label:"Model",disabled:!0})),o.a.createElement(_.Col,{className:"input-field"},o.a.createElement(_.TextInput,{name:"year",value:this.state.year,onChange:this.handleChange,type:"text",label:"Year",disabled:!0}))),o.a.createElement("div",{class:"uk-margin"},o.a.createElement("div",{"uk-form-custom":!0},o.a.createElement("input",{id:"file-input",onChange:this.handleImageChange,type:"file"}))),o.a.createElement(_.Row,null,o.a.createElement(_.Button,{onClick:this.validate,type:"submit",className:"#37474f blue-grey darken-3",waves:"light",style:{marginLeft:"22px"}},"Make Listing")))))}}]),t}(n.Component),Re=a(10),Ie=a(326),Te=a(325),Me=(a(288),a(51)),Be=Object(Re.a)({indicator:{display:"flex",justifyContent:"center",backgroundColor:"transparent","& > div":{maxWidth:80,width:"100%",backgroundColor:"gold",height:1}}})(function(e){return o.a.createElement(Ie.a,Object.assign({},e,{TabIndicatorProps:{children:o.a.createElement("div",null)}}))}),Ve=Object(Re.a)(function(e){return{root:{textTransform:"none",color:"#fff",paddingBottom:0,fontWeight:e.typography.fontWeightRegular,fontSize:e.typography.pxToRem(15),marginRight:e.spacing(0),"&:focus":{opacity:1}}}})(function(e){return o.a.createElement(Te.a,Object.assign({disableRipple:!0},e))}),Ae=Object(R.a)(function(e){return{root:{flexGrow:1},padding:{padding:e.spacing(0)},demo1:{backgroundColor:e.palette.background.paper},demo2:{backgroundColor:"black"}}});var Pe=function(e){var t=Ae(),a=o.a.useState(0),n=Object(ee.a)(a,2),i=n[0],l=n[1];return o.a.createElement("div",{className:t.root,id:"navbarSection"},o.a.createElement("div",{className:t.demo1,id:"logo"},o.a.createElement(T.a,{className:t.padding})),o.a.createElement("div",{className:t.demo2,id:"NavBar"},o.a.createElement(Be,{value:i,onChange:function(e,t){l(t)},"aria-label":"styled tabs"},o.a.createElement(Me.b,{to:"/"},o.a.createElement(Ve,{label:"Home",className:"navTab"})),o.a.createElement(Me.b,{to:"/search"},o.a.createElement(Ve,{label:"Search",className:"navTab"})),e.username?[o.a.createElement(Me.b,{to:"/market"},o.a.createElement(Ve,{label:"Market",className:"navTab"})),o.a.createElement(Me.b,{to:"/profile"},o.a.createElement(Ve,{label:"Profile",className:"navTab"}))]:[],e.username?o.a.createElement("a",{onClick:function(){return E.logout().then(function(){return window.location.href="/"})},id:"signOut",className:"signOut",style:{float:"right"}},"SignOut"):o.a.createElement("a",{onClick:function(){return E.login()},id:"signIn",className:"signIn",style:{float:"right"}},"SignIn")),o.a.createElement(T.a,{className:t.padding})))},De=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).allListing=function(){v.getAllListing().then(function(e){console.log("all listings databack"),console.log(e.data),a.setState({listings:Object(ke.a)(e.data)}),console.log(a.state.listings)})},a.editListing=function(){var e={price:20};v.editListing(10,e).then(function(e){console.log(e.data)})},a.getListingByVehicle=function(e){console.log("data passed"),console.log("".concat(e.year," + ").concat(e.make," + ").concat(e.model));var t=e.make,n=e.model,o=e.year;v.getListingByVehicle(t,n,o).then(function(e){console.log(e.data),a.setState({listings:e.data})})},a.handleSearch=function(){a.setState({buyshow:!0}),a.setState({showForm:!1}),console.log("here")},a.showForm=function(){a.setState({showForm:!0}),a.setState({buyshow:!1}),console.log("here2")},a.state={buyshow:!1,showForm:!1,listings:[]},a}return Object(u.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.allListing(),this.editListing()}},{key:"render",value:function(){this.state.listings.map(function(e){return o.a.createElement(ye,{key:e.id,image:e.image,make:e.make,model:e.model,price:e.price,year:e.year,vin:e.vin})});return o.a.createElement("div",null,o.a.createElement(Pe,null),o.a.createElement("h3",{id:"market-head"}," Market "),o.a.createElement("span",{id:"market-line"}),o.a.createElement("div",{id:"market-btn"},o.a.createElement(Se,{handleSearch:this.handleSearch}),o.a.createElement(je,{showForm:this.showForm})),this.state.buyshow?o.a.createElement(Oe,{infoBuy:this.getListingByVehicle}):null,this.state.showForm?o.a.createElement(Le,null):null,o.a.createElement("div",{id:"market-list"},this.state.listings.map(function(e){return o.a.createElement(ye,{key:e.id,image:e.image,make:e.make,model:e.model,price:e.price,year:e.year,vin:e.vin})})))}}]),t}(o.a.Component),Ue=a(11),Fe=a(110),ze=a(147),We=a.n(ze),Ge=a(148),_e=a.n(Ge),Je=a(149),Ke=a.n(Je),Ye=a(150),$e=a.n(Ye),qe=a(151),Ze=a.n(qe),He=a(152),Qe=a.n(He);Ue.ShaderLib.sky={uniforms:{luminance:{type:"f",value:1},turbidity:{type:"f",value:2},reileigh:{type:"f",value:1},mieCoefficient:{type:"f",value:.005},mieDirectionalG:{type:"f",value:.8},sunPosition:{type:"v3",value:new Ue.Vector3(5,3e3,-6e3)}},vertexShader:["varying vec3 vWorldPosition;","void main() {","vec4 worldPosition = modelMatrix * vec4( position, 1.0 );","vWorldPosition = worldPosition.xyz;","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform sampler2D skySampler;","uniform vec3 sunPosition;","varying vec3 vWorldPosition;","vec3 cameraPos = vec3(0., 0., 0.);","// uniform sampler2D sDiffuse;","// const float turbidity = 10.0; //","// const float reileigh = 2.; //","// const float luminance = 1.0; //","// const float mieCoefficient = 0.005;","// const float mieDirectionalG = 0.8;","uniform float luminance;","uniform float turbidity;","uniform float reileigh;","uniform float mieCoefficient;","uniform float mieDirectionalG;","vec3 sunDirection = normalize(sunPosition);","float reileighCoefficient = reileigh;","// constants for atmospheric scattering","const float e = 2.71828182845904523536028747135266249775724709369995957;","const float pi = 3.141592653589793238462643383279502884197169;","const float n = 1.0003; // refractive index of air","const float N = 2.545E25; // number of molecules per unit volume for air at","// 288.15K and 1013mb (sea level -45 celsius)","const float pn = 0.035;  // depolatization factor for standard air","// wavelength of used primaries, according to preetham","const vec3 lambda = vec3(680E-9, 550E-9, 450E-9);","// mie stuff","// K coefficient for the primaries","const vec3 K = vec3(0.686, 0.678, 0.666);","const float v = 4.0;","// optical length at zenith for molecules","const float rayleighZenithLength = 8.4E3;","const float mieZenithLength = 1.25E3;","const vec3 up = vec3(0.0, 1.0, 0.0);","const float EE = 1000.0;","const float sunAngularDiameterCos = 0.999956676946448443553574619906976478926848692873900859324;","// 66 arc seconds -> degrees, and the cosine of that","// earth shadow hack","const float cutoffAngle = pi/1.95;","const float steepness = 1.5;","vec3 totalRayleigh(vec3 lambda)","{","return (8.0 * pow(pi, 3.0) * pow(pow(n, 2.0) - 1.0, 2.0) * (6.0 + 3.0 * pn)) / (3.0 * N * pow(lambda, vec3(4.0)) * (6.0 - 7.0 * pn));","}","// A simplied version of the total Reayleigh scattering to works on browsers that use ANGLE","vec3 simplifiedRayleigh()","{","return 0.0005 / vec3(94, 40, 18);","}","float rayleighPhase(float cosTheta)","{   ","return (3.0 / (16.0*pi)) * (1.0 + pow(cosTheta, 2.0));","// return (1.0 / (3.0*pi)) * (1.0 + pow(cosTheta, 2.0));","// return (3.0 / 4.0) * (1.0 + pow(cosTheta, 2.0));","}","vec3 totalMie(vec3 lambda, vec3 K, float T)","{","float c = (0.2 * T ) * 10E-18;","return 0.434 * c * pi * pow((2.0 * pi) / lambda, vec3(v - 2.0)) * K;","}","float hgPhase(float cosTheta, float g)","{","return (1.0 / (4.0*pi)) * ((1.0 - pow(g, 2.0)) / pow(1.0 - 2.0*g*cosTheta + pow(g, 2.0), 1.5));","}","float sunIntensity(float zenithAngleCos)","{","return EE * max(0.0, 1.0 - exp(-((cutoffAngle - acos(zenithAngleCos))/steepness)));","}","// float logLuminance(vec3 c)","// {","//   return log(c.r * 0.2126 + c.g * 0.7152 + c.b * 0.0722);","// }","// Filmic ToneMapping http://filmicgames.com/archives/75","float A = 0.15;","float B = 0.50;","float C = 0.10;","float D = 0.20;","float E = 0.02;","float F = 0.30;","float W = 1000.0;","vec3 Uncharted2Tonemap(vec3 x)","{","return ((x*(A*x+C*B)+D*E)/(x*(A*x+B)+D*F))-E/F;","}","void main() ","{","float sunfade = 1.0-clamp(1.0-exp((sunPosition.y/450000.0)),0.0,1.0);","// luminance =  1.0 ;// vWorldPosition.y / 450000. + 0.5; //sunPosition.y / 450000. * 1. + 0.5;","// gl_FragColor = vec4(sunfade, sunfade, sunfade, 1.0);","reileighCoefficient = reileighCoefficient - (1.0* (1.0-sunfade));","float sunE = sunIntensity(dot(sunDirection, up));","// extinction (absorbtion + out scattering) ","// rayleigh coefficients","vec3 betaR = simplifiedRayleigh() * reileighCoefficient;","// mie coefficients","vec3 betaM = totalMie(lambda, K, turbidity) * mieCoefficient;","// optical length","// cutoff angle at 90 to avoid singularity in next formula.","float zenithAngle = acos(max(0.0, dot(up, normalize(vWorldPosition - cameraPos))));","float sR = rayleighZenithLength / (cos(zenithAngle) + 0.15 * pow(93.885 - ((zenithAngle * 180.0) / pi), -1.253));","float sM = mieZenithLength / (cos(zenithAngle) + 0.15 * pow(93.885 - ((zenithAngle * 180.0) / pi), -1.253));","// combined extinction factor  ","vec3 Fex = exp(-(betaR * sR + betaM * sM));","// in scattering","float cosTheta = dot(normalize(vWorldPosition - cameraPos), sunDirection);","float rPhase = rayleighPhase(cosTheta*0.5+0.5);","vec3 betaRTheta = betaR * rPhase;","float mPhase = hgPhase(cosTheta, mieDirectionalG);","vec3 betaMTheta = betaM * mPhase;","vec3 Lin = pow(sunE * ((betaRTheta + betaMTheta) / (betaR + betaM)) * (1.0 - Fex),vec3(1.5));","Lin *= mix(vec3(1.0),pow(sunE * ((betaRTheta + betaMTheta) / (betaR + betaM)) * Fex,vec3(1.0/2.0)),clamp(pow(1.0-dot(up, sunDirection),5.0),0.0,1.0));","//nightsky","vec3 direction = normalize(vWorldPosition - cameraPos);","float theta = acos(direction.y); // elevation --\x3e y-axis, [-pi/2, pi/2]","float phi = atan(direction.z, direction.x); // azimuth --\x3e x-axis [-pi/2, pi/2]","vec2 uv = vec2(phi, theta) / vec2(2.0*pi, pi) + vec2(0.5, 0.0);","// vec3 L0 = texture2D(skySampler, uv).rgb+0.1 * Fex;","vec3 L0 = vec3(0.1) * Fex;","// composition + solar disc","//if (cosTheta > sunAngularDiameterCos)","float sundisk = smoothstep(sunAngularDiameterCos,sunAngularDiameterCos+0.00002,cosTheta);","// if (normalize(vWorldPosition - cameraPos).y>0.0)","L0 += (sunE * 19000.0 * Fex)*sundisk;","vec3 whiteScale = 1.0/Uncharted2Tonemap(vec3(W));","vec3 texColor = (Lin+L0);   ","texColor *= 0.04 ;","texColor += vec3(0.0,0.001,0.0025)*0.3;","float g_fMaxLuminance = 1.0;","float fLumScaled = 0.1 / luminance;     ","float fLumCompressed = (fLumScaled * (1.0 + (fLumScaled / (g_fMaxLuminance * g_fMaxLuminance)))) / (1.0 + fLumScaled); ","float ExposureBias = fLumCompressed;","vec3 curr = Uncharted2Tonemap((log2(2.0/pow(luminance,4.0)))*texColor);","vec3 color = curr*whiteScale;","vec3 retColor = pow(color,vec3(1.0/(1.2+(1.2*sunfade))));","gl_FragColor.rgb = retColor;","gl_FragColor.a = 1.0;","}"].join("\n")};var Xe=function(){var e=Ue.ShaderLib.sky,t=Ue.UniformsUtils.clone(e.uniforms),a=new Ue.ShaderMaterial({fragmentShader:e.fragmentShader,vertexShader:e.vertexShader,uniforms:t,side:Ue.BackSide}),n=new Ue.SphereGeometry(1e3,32,15),o=new Ue.Mesh(n,a);this.mesh=o,this.uniforms=t},et=(n.Component,function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){window.opener.open("/venvi-fe/","_self"),window.opener.focus(),window.opener.postMessage("popup-done","*"),window.close()}},{key:"render",value:function(){return o.a.createElement("div",null,"AUTH SUCCESS!")}}]),t}(n.Component)),tt=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={userid:void 0},a.changeUserState=function(e){a.setState({userid:e})},a}return Object(u.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){k(),w(),C(123),x(123)}},{key:"render",value:function(){var e=this;return o.a.createElement(Me.a,{basename:"/venvi-fe"},o.a.createElement("div",null,o.a.createElement(Pe,{username:this.state.userid&&this.state.userid.name?this.state.userid.name:void 0}),o.a.createElement(W.d,null,o.a.createElement(W.b,{exact:!0,path:"/",render:function(t){return o.a.createElement(G,Object.assign({},t,{changeUserState:e.changeUserState}))}}),o.a.createElement(W.b,{exact:!0,path:"/search",component:q}),o.a.createElement(W.b,{path:"/logged",component:et}),this.state.userid?o.a.createElement(o.a.Fragment,null,o.a.createElement(W.b,{exact:!0,path:"/profile",component:we}),o.a.createElement(W.b,{exact:!0,path:"/market",component:De})):o.a.createElement(o.a.Fragment,null))))}}]),t}(o.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(tt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[160,1,2]]]);
//# sourceMappingURL=main.9219fd1a.chunk.js.map